<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Filling</title>
</head>
<body>

<form id="horseForm" onsubmit="return submitForm();">
    <label for="horseName">Horse Name:</label>
    <select id="horseName" name="horseName" required>
        <option value="" selected disabled>Select a horse</option>
    </select><br><br>

    <label for="pulse">Pulse:</label>
    <select id="pulse" name="pulse">
        <option value="" selected>Select pulse</option>
    </select><br><br>

    <label for="training">Training:</label>
    <select id="training" name="training">
        <option value="" selected>Select training</option>
    </select><br><br>

    <label for="shoeing">Shoeing:</label>
    <select id="shoeing" name="shoeing">
        <option value="" selected>Select shoeing</option>
    </select><br><br>

    <label for="place">Place:</label>
    <select id="place" name="place">
        <option value="" selected>Select place</option>
    </select><br><br>

    <label for="race">Race:</label>
    <select id="race" name="race">
        <option value="" selected>Select race</option>
    </select><br><br>

    <label for="lotta">Lotta:</label>
    <input type="checkbox" id="lotta" name="lotta" value="yes"><br><br>

    <label for="vet">Vet:</label>
    <input type="text" id="vet" name="vet"><br><br>

    <label for="info">Info:</label>
    <input type="text" id="info" name="info"><br><br>

    <label for="date">Date:</label>
    <input type="date" id="date" name="date" required><br><br>

    <button type="submit">Submit</button>
    <button type="button" onclick="resetForm()">Reset</button>
    <button type="button" onclick="window.location.href='SubmittedDataForm.html'">Go to Submitted Data Form</button>
    <button type="button" onclick="window.location.href='index.html'">Go to Index</button>
</form>

<script>
    // Dropdown choices
    const horseNames = [
        "TAURUS TILE",
        "PATRIOT NEWPORT",
        "FIVE CARAT",
        "NICK NACK MEARAS",
        "GLOBAL HALO",
        "JAPIRO POWER",
        "REIDAR DI QUATTRO"
    ];

    const pulses = [
        48, 52, 56, 60, 64, 68, 72, 76, 80, 84,
        88, 92, 96, 100, 104, 108, 112, 116, 120,
        124, 128, 50, 54, 58, 62, 66, 70, 74, 82,
        86, 90, 94, 98
    ];

    const trainings = ["J", "F", "F?", "F1", "F2", "F3", "F4", "F5", "F6", "ST", "VET"];

    const shoeings = ["RO", "F", "B"];

    const places = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 'D'];

    const races = [
        "0101", "0102", "0103", "0104", "0105", "0106", "0107", "0108",
        "0109", "0110", "0111", "0112", "0113", "0114", "0115",
        "0201", "0202", "0203", "0204", "0205", "0206", "0207", "0208",
        "0209", "0210", "0211", "0212", "0213", "0214", "0215",
        "0301", "0302", "0303", "0304", "0305", "0306", "0307", "0308",
        "0309", "0310", "0311", "0312", "0313", "0314", "0315",
        "0401", "0402", "0403", "0404", "0405", "0406", "0407", "0408",
        "0409", "0410", "0411", "0412", "0413", "0414", "0415",
        "0501", "0502", "0503", "0504", "0505", "0506", "0507", "0508",
        "0509", "0510", "0511", "0512", "0513", "0514", "0515",
        "0601", "0602", "0603", "0604", "0605", "0606", "0607", "0608",
        "0609", "0610", "0611", "0612", "0613", "0614", "0615",
        "0701", "0702", "0703", "0704", "0705", "0706", "0707", "0708",
        "0709", "0710", "0711", "0712", "0713", "0714", "0715",
        "0801", "0802", "0803", "0804", "0805", "0806", "0807", "0808",
        "0809", "0810", "0811", "0812", "0813", "0814", "0815",
        "0901", "0902", "0903", "0904", "0905", "0906", "0907", "0908",
        "0909", "0910", "0911", "0912", "0913", "0914", "0915",
        "1001", "1002", "1003", "1004", "1005", "1006", "1007", "1008",
        "1009", "1010", "1011", "1012", "1013", "1014", "1015",
        "1101", "1102", "1103", "1104", "1105", "1106", "1107", "1108",
        "1109", "1110", "1111", "1112", "1113", "1114", "1115",
        "1201", "1202", "1203", "1204", "1205", "1206", "1207", "1208",
        "1209", "1210", "1211", "1212", "1213", "1214", "1215",
        "1301", "1302", "1303", "1304", "1305", "1306", "1307", "1308",
        "1309", "1310", "1311", "1312", "1313", "1314", "1315",
        "K", "JÃ„"
    ];

    // Function to populate dropdowns
    function populateDropdown(selectId, options) {
        const select = document.getElementById(selectId);
        options.forEach(option => {
            const opt = document.createElement('option');
            opt.value = option;
            opt.text = option;
            select.add(opt);
        });
    }

    // Populate all dropdowns on page load
    window.onload = function() {
        populateDropdown('horseName', horseNames);
        populateDropdown('pulse', pulses);
        populateDropdown('training', trainings);
        populateDropdown('shoeing', shoeings);
        populateDropdown('place', places);
        populateDropdown('race', races);
    };

    // Function to handle form submission
    function submitForm() {
        const formData = {
            horseName: document.getElementById('horseName').value,
            pulse: document.getElementById('pulse').value,
            training: document.getElementById('training').value,
            shoeing: document.getElementById('shoeing').value,
            place: document.getElementById('place').value,
            race: document.getElementById('race').value,
            lotta: document.getElementById('lotta').checked ? "Yes" : "No",
            vet: document.getElementById('vet').value,
            info: document.getElementById('info').value,
            date: document.getElementById('date').value,
        };

        // Retrieve existing data from local storage
        const existingData = JSON.parse(localStorage.getItem('submittedData')) || [];
        existingData.push(formData); // Add new entry to the array

        // Store the updated array back to local storage
        localStorage.setItem('submittedData', JSON.stringify(existingData));

        // Redirect to the Submitted Data Form page
        window.location.href = 'SubmittedDataForm.html';

        return false; // Prevent the default form submission
    }
</script>
</body>
</html>
